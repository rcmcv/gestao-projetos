<!-- Arquivo: app/templates/usuarios/form_usuario.html -->
{# Arquivo: templates/usuarios/form_usuario.html #}
{% extends 'base.html' %}

{% block conteudo %}
    <!-- üîπ T√≠tulo da p√°gina -->
    <h2>{{ '‚úèÔ∏è Editar Usu√°rio' if usuario else '‚ûï Novo Usu√°rio' }}</h2>

    <!-- ‚úÖ Formul√°rio baseado em WTForms -->
    <form method="POST">
        {{ form.hidden_tag() }}  {# Inclui token CSRF e dados ocultos do Flask-WTF #}

        <!-- üìõ Campo: Nome -->
        <div class="form-group" style="margin-bottom: 10px;">
            {{ form.nome.label }}<br>
            {{ form.nome(class="form-control") }}
            {% for erro in form.nome.errors %}
                <small class="text-danger">{{ erro }}</small>
            {% endfor %}
        </div>

        <!-- üìß Campo: E-mail -->
        <div class="form-group" style="margin-bottom: 10px;">
            {{ form.email.label }}<br>
            {{ form.email(class="form-control") }}
            {% for erro in form.email.errors %}
                <small class="text-danger">{{ erro }}</small>
            {% endfor %}
        </div>

        <!-- üîê Campo: Senha -->
        <div class="form-group" style="margin-bottom: 10px;">
            {{ form.senha.label }}<br>
            {{ form.senha(class="form-control") }}
            {% for erro in form.senha.errors %}
                <small class="text-danger">{{ erro }}</small>
            {% endfor %}

            {% if usuario %}
                <small style="color: gray;">Preencha apenas se desejar alterar a senha.</small>
            {% endif %}
        </div>

        <!-- üë§ Campo: Permiss√£o -->
        <div class="form-group" style="margin-bottom: 10px;">
            {{ form.permissao.label }}<br>
            {{ form.permissao(class="form-control") }}
            {% for erro in form.permissao.errors %}
                <small class="text-danger">{{ erro }}</small>
            {% endfor %}
        </div>

        <!-- ‚úÖ Bot√£o de envio -->
        <div style="margin-top: 10px;">
            {{ form.submit(class="btn btn-primary") }}
            <a href="{{ url_for('web.listar_usuarios') }}" class="btn btn-secondary">Cancelar</a>
        </div>
    </form>
{% endblock %}
