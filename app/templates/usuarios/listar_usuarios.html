<!-- Arquivo: app/templates/usuarios/listar_usuarios.html -->
{# Arquivo: templates/usuarios/listar_usuarios.html #}
{% extends 'base.html' %}

{% block conteudo %}
    <!-- üîπ T√≠tulo da p√°gina -->
    <h2>üìÇ Usu√°rios</h2>

    <!-- ‚ûï Bot√£o para adicionar novo usu√°rio -->
    <p>
        <a href="{{ url_for('web.novo_usuario') }}">‚ûï Novo Usu√°rio</a>
    </p>

    <!-- üìã Tabela de usu√°rios -->
    <table border="1" cellpadding="8" cellspacing="0">
        <thead>
            <tr>
                <th>ID</th>
                <th>Nome</th>
                <th>E-mail</th>
                <th>Permiss√£o</th>
                <th>A√ß√µes</th>
            </tr>
        </thead>
        <tbody>
            {% for usuario in usuarios %}
                <tr>
                    <td>{{ usuario.id }}</td>
                    <td>{{ usuario.nome }}</td>
                    <td>{{ usuario.email }}</td>
                    <td>{{ usuario.permissao }}</td>
                    <td>
                        <!-- ‚úèÔ∏è Editar -->
                        <a href="{{ url_for('web.editar_usuario', id=usuario.id) }}">‚úèÔ∏è Editar</a>

                        <!-- üóëÔ∏è Excluir (exceto o logado) -->
                        {% if session.get('usuario_id') != usuario.id %}
                            <form action="{{ url_for('web.excluir_usuario', id=usuario.id) }}" method="POST" style="display:inline;">
                                <button type="submit" onclick="return confirm('Tem certeza que deseja excluir este usu√°rio?')">üóëÔ∏è Excluir</button>
                            </form>
                        {% endif %}
                    </td>
                </tr>
            {% else %}
                <tr>
                    <td colspan="5">Nenhum usu√°rio cadastrado.</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
