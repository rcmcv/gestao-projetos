<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}GestÃ£o de Projetos{% endblock %}</title>
</head>
<body>
    <!-- âœ… CabeÃ§alho -->
    <header>
        <h1>GestÃ£o de Projetos</h1>
    </header>

    <!-- âœ… Menu de navegaÃ§Ã£o principal -->
    <nav>
        <ul>
            <!-- InÃ­cio / Dashboard -->
            <li><a href="{{ url_for('web.pagina_inicial') }}">ğŸ  InÃ­cio</a></li>

            <!-- MÃ³dulo Projetos -->
            <li><a href="{{ url_for('web.listar_projetos') }}">ğŸ“ Projetos</a></li>

            <!-- MÃ³dulo Clientes -->
            <li><a href="{{ url_for('web.listar_clientes') }}">ğŸ‘¥ Clientes</a></li>

            <!-- MÃ³dulo Fornecedores -->
            <li><a href="{{ url_for('web.listar_fornecedores') }}">ğŸ¢ Fornecedores</a></li>

            <!-- MÃ³dulo Materiais -->
            <li><a href="{{ url_for('web.listar_materiais') }}">ğŸ“¦ Materiais</a></li>

            <!-- MÃ³dulo Tipos -->
            <li><a href="{{ url_for('web.listar_tipos') }}">ğŸ·ï¸ Tipos</a></li>

            <!-- MÃ³dulo Unidades de Medida -->
            <li><a href="{{ url_for('web.listar_unidades') }}">ğŸ“ Unidades</a></li>

            <!-- MÃ³dulo Status de Projeto -->
            <li><a href="{{ url_for('web.listar_status') }}">ğŸ“‹ Status</a></li>

            <!-- âœ… MÃ³dulo UsuÃ¡rios â€“ visÃ­vel apenas para administradores -->
            {% if session.get('usuario_permissao') == 'admin' %}
                <li><a href="{{ url_for('web.listar_usuarios') }}">ğŸ” UsuÃ¡rios</a></li>
            {% endif %}
        </ul>

        <!-- ğŸ”¹ InformaÃ§Ãµes do usuÃ¡rio logado -->
        {% if session.get('usuario_nome') %}
            <p>ğŸ‘¤ {{ session['usuario_nome'] }}</p>
            <form action="{{ url_for('web.logout') }}" method="post">
                <button type="submit">Sair</button>
            </form>
        {% endif %}
    </nav>

    <!-- âœ… Ãrea de conteÃºdo dinÃ¢mico -->
    <main>
        {% with mensagens = get_flashed_messages(with_categories=true) %}
            {% if mensagens %}
                {% for categoria, msg in mensagens %}
                    <div class="alert {{ categoria }}">{{ msg }}</div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        {% block conteudo %}{% endblock %}
    </main>

    <!-- âœ… RodapÃ© -->
    <footer>
        <p>&copy; {{ current_year or 2025 }} - Sistema de GestÃ£o de Projetos</p>
    </footer>
</body>
</html>
