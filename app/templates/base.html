<!-- Arquivo: app/templates/base.html -->
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>GestÃ£o de Projetos</title>
</head>
<body>
    <!-- ğŸ”¹ CabeÃ§alho: tÃ­tulo Ã  esquerda, usuÃ¡rio logado Ã  direita -->
    <header style="display: flex; justify-content: space-between; align-items: center; padding: 10px;">
        <!-- TÃ­tulo do sistema -->
        <h1>GestÃ£o de Projetos</h1>

        <!-- Ãrea do usuÃ¡rio logado (visÃ­vel apenas se logado) -->
        {% if session.get('usuario_nome') %}
            <div style="text-align: right;">
                <!-- Nome do usuÃ¡rio -->
                <p>ğŸ‘¤ {{ session['usuario_nome'] }}</p>

                <!-- BotÃ£o de logout -->
                <form action="{{ url_for('web.logout') }}" method="POST">
                    <button type="submit">Sair</button>
                </form>
            </div>
        {% endif %}
    </header>

    <hr>

    <!-- ğŸ”¹ Corpo principal: menu lateral + conteÃºdo -->
    <main style="display: flex; min-height: 80vh;">
        <!-- ğŸ”¸ Menu lateral fixo -->
        <nav style="width: 200px; padding: 20px;">
            <ul style="list-style-type: none; padding: 0;">
                <li><a href="{{ url_for('web.pagina_inicial') }}">ğŸ  InÃ­cio</a></li>
                <li><a href="{{ url_for('web.listar_unidades') }}">ğŸ“ Unidades</a></li>
                <li><a href="{{ url_for('web.listar_tipos_material') }}">âœï¸ Tipos</a></li>
                <li><a href="{{ url_for('web.listar_materiais') }}">ğŸ“¦ Materiais</a></li>
                <li><a href="{{ url_for('web.listar_fornecedores') }}">ğŸ¢ Fornecedores</a></li>
                <li><a href="{{ url_for('web.listar_clientes') }}">ğŸ‘¥ Clientes</a></li>
                <li><a href="{{ url_for('web.listar_status') }}">ğŸ“‹ Status</a></li>
                <li><a href="{{ url_for('web.listar_projetos') }}">ğŸ“ Projetos</a></li>

                <!-- ğŸ” Apenas para administradores -->
                {% if session.get('usuario_permissao') == 'admin' %}
                    <li><a href="{{ url_for('web.listar_usuarios') }}">ğŸ“‚ UsuÃ¡rios</a></li>
                {% endif %}
            </ul>
        </nav>

        <!-- ğŸ”¸ Ãrea de conteÃºdo dinÃ¢mico -->
        <section style="flex: 1; padding: 20px;">
            <!-- âš ï¸ Mensagens flash (sucesso, erro, aviso...) -->
            {% with mensagens = get_flashed_messages(with_categories=true) %}
                {% if mensagens %}
                    <ul style="list-style: none;">
                        {% for categoria, mensagem in mensagens %}
                            <li><strong>{{ mensagem }}</strong></li>
                        {% endfor %}
                    </ul>
                {% endif %}
            {% endwith %}

            <!-- Bloco dinÃ¢mico de conteÃºdo -->
            {% block conteudo %}{% endblock %}
        </section>
    </main>

    <hr>

    <!-- ğŸ”¹ RodapÃ© do sistema -->
    <footer style="text-align: center; padding: 10px;">
        <p>Â© {{ current_year }} - Sistema de GestÃ£o de Projetos</p>
    </footer>
</body>
</html>
